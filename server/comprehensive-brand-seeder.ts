import { db } from './db';
import { sectors, brands, type InsertBrand } from '@shared/schema';
import { eq } from 'drizzle-orm';

// Comprehensive brand data from HTML file with complete sector coverage
const sectorBrandsData = {
  banking: {
    name: 'üè¶ Banking & Finance',
    brands: [
      'FinGrid',
      'TradeAmp',
      'LoopPay',
      'TaxNova',
      'VaultMaster',
      'Gridwise',
      'CrateDance',
      'CashGlyph',
      'Foresync',
      'OmniRank',
      'ZenoBank',
      'CruxSpend',
      'PulseHive',
      'WireVault',
      'BitTrust',
      'MeshCredit',
      'NovaScore',
      'ZentryPay',
      'FlowDrift',
      'AlphaClearing',
      'LumenBank',
      'DeltaCustody',
      'FractalFund',
      'TorusFinance',
      'VectorMint',
      'RapidTally',
      'FathomBank',
      'KiteYield',
      'BondRhythm',
      'EchoTrust',
      'QuantArk',
      'NodeCapital',
      'VeritasPay',
      'TrustCage',
      'CoreLedge',
      'SkyFin',
      'MintFuse',
      'OrbitBank',
      'HashVault',
      'MicroDelta',
      'AnchorPrime',
      'FleetGrid',
      'ZoomLedge',
      'BeaconBank',
      'CrateTeller',
      'NumenYield',
      'SparkScore',
      'MetaBank',
      'AetherTrust',
      'TrueCustody',
      'NeutronMint',
      'SiloCash',
      'JetReconcile',
      'PulseClearing',
      'SyncTeller',
      'TangentBank',
      'NovaLedger',
      'GlideBank',
      'TraceFin',
      'RootBank',
      'BankSingularity',
      'PillarTrust',
      'AxonFin',
      'MonetGrid',
      'LayerBank',
      'VergePay',
      'StackCash',
      'CrownBank',
      'PrismScore',
      'HaloMint',
      'CentraClear',
      'TrustForge',
      'OmniBank',
      'NanoPay',
      'LatticeScore',
      'NobleCredit',
      'ChainBank',
      'PulseMint',
      'BridgeLedger',
      'ChronoBank',
      'UnityFin',
      'GridTrust',
      'SparkVault',
      'LucidBank',
      'RiverMint',
      'FlightClearing',
      'NetTeller',
      'PeakCustody',
      'FlarePay',
      'DarkBank',
      'OriginTrust',
      'ShardLedger',
      'IndexPay',
      'AltimeterFin',
      'EchoClearing',
      'FrameCustody',
      'ZenithGrid',
      'AtomScore',
      'CoreMeta',
      'CruxFin',
      'PulseMatrix',
      'BalanceGrid',
      'GoldMint',
      'ClearStack',
      'QuantumBank',
      'ScriptScore',
      'SyncVault',
      'FolioTrust',
      'HyperFin',
      'ToneLedger',
      'IndexGrid',
      'LineBank',
      'CoreAlpha',
      'LogicPay',
      'NodeYield',
      'RatioMint',
      'LockLedger',
      'PrimeGrid',
      'TrustAmp',
      'FundLattice',
      'CreditHelix',
      'AuraVault',
      'DataBank',
      'RingMint',
      'GlyphTrust',
      'NebulaBank',
      'ZenScore',
      'LoopTrust',
      'AxialFin',
      'OmniLoop',
      'AlphaPulse',
      'NexusBank',
      'VaultHelix',
      'ScriptTeller',
      'TallyCore',
      'FuseMint',
    ],
    subnodes: [
      [
        'Ledger Mesh',
        'Arbitrage Core',
        'Token Router',
        'Tax Engine',
        'Vault Lock',
        'Compliance Matrix',
        'Logistics Fin',
        'Currency Glyph',
        'Forecast Engine',
        'Signal Tracker',
      ],
      [
        'Zeno Mesh',
        'Crux Bridge',
        'Hive Monitor',
        'Wire Reconciler',
        'Bit Locker',
        'Credit Splice',
        'Score Vector',
        'Zentry Core',
        'Drift Trace',
        'Alpha Ledger',
      ],
    ],
  },
  agriculture: {
    name: 'üå± Agriculture & Biotech',
    brands: [
      'CropLink',
      'SoilPulse',
      'RootYield',
      'AquaFarm',
      'AgriMesh',
      'GrowNode',
      'GrainCast',
      'SoilBank',
      'CropID',
      'AgriVault',
      'PulseHarvest',
      'MarketSoil',
      'DroneFarm',
      'RuralOps',
      'SeedGrid',
      'FarmChain',
      'AgriScore',
      'SoilNet',
      'CropDoc',
      'TerraVault',
      'AgriID',
      'SproutFlow',
      'GrainSafe',
      'FieldSync',
      'AgriDepot',
      'DroneCrop',
      'CropTrace',
      'PulseSoil',
      'SeedRoot',
      'RuralFlow',
      'MarketGrow',
      'AgriRank',
      'SoilLogic',
      'AgriSync',
      'NutrientGrid',
      'FieldCast',
      'CropSource',
      'YieldStack',
      'FarmPulse',
      'SoilTech',
      'GreenTrace',
      'CropVault',
      'AgriCast',
      'TerraPulse',
      'SoilTrace',
      'PulseAg',
      'GrowVault',
      'FieldNet',
      'DroneSoil',
      'SoilGrid',
      'HarvestLoop',
      'RuralMesh',
      'FarmFlag',
      'AgriFlow',
      'SoilVault',
      'FieldProof',
      'DroneTrace',
      'MarketRoots',
      'NutrientPath',
      'CropPulse',
      'AgriPulse',
      'EcoSeed',
      'AgriMetrics',
      'DroneGrid',
      'GreenNode',
      'RootVault',
      'FieldToken',
      'AgriPlan',
      'SoilYield',
      'SeedVault',
      'MarketLink',
      'CropFlow',
      'RuralCast',
      'AgriSyncPro',
      'SoilLine',
      'EcoAgri',
      'HarvestNode',
      'TerraSoil',
      'CropMesh',
      'AgriSignal',
      'RuralVault',
      'PulseGrow',
      'MarketSoilX',
      'AgriOmni',
    ],
    subnodes: [],
  },
  creative: {
    name: 'üñãÔ∏è Creative Tech',
    brands: [
      'MediaGrid',
      'StudioPath',
      'SoundReel',
      'EditFrame',
      'MotionKit',
      'GhostTrace',
      'TalentMap',
      'SignalVerse',
      'ScrollPlay',
      'FXStream',
    ],
    subnodes: [],
  },
  professional: {
    name: 'üßæ Professional Services',
    brands: [
      'LedgerNest‚Ñ¢',
      'OmniBooks‚Ñ¢',
      'QCalcX‚Ñ¢',
      'SiteProof‚Ñ¢',
      'LawTrace‚Ñ¢',
      'ContractCast‚Ñ¢',
      'Enginuity‚Ñ¢',
      'StructVault‚Ñ¢',
      'RegiSync‚Ñ¢',
      'ScrollAudit‚Ñ¢',
      'ClaimDocX‚Ñ¢',
      'PlanDrop‚Ñ¢',
      'SurveyGrid‚Ñ¢',
      'VaultJudge‚Ñ¢',
      'LoopInspect‚Ñ¢',
      'BuildNode‚Ñ¢',
      'ComplyTrack‚Ñ¢',
      'LegalSync‚Ñ¢',
      'BudgetCast‚Ñ¢',
      'VaultPlans‚Ñ¢',
      'FormCert‚Ñ¢',
      'ProofLayer‚Ñ¢',
      'ZoneMap‚Ñ¢',
      'TrackSeal‚Ñ¢',
      'DocLoop‚Ñ¢',
      'AuditCrate‚Ñ¢',
      'VerifyLine‚Ñ¢',
      'PlanMesh‚Ñ¢',
      'FrameBook‚Ñ¢',
      'LogicPermit‚Ñ¢',
      'OmniBrief‚Ñ¢',
      'ClauseCraft‚Ñ¢',
      'FormLogic‚Ñ¢',
      'CheckNode‚Ñ¢',
      'AssetTrace‚Ñ¢',
      'LawPathX‚Ñ¢',
      'LedgerFlow‚Ñ¢',
      'BudgetSync‚Ñ¢',
      'CrateJudge‚Ñ¢',
      'SpecAudit‚Ñ¢',
      'LoopCheck‚Ñ¢',
      'OmniTender‚Ñ¢',
      'SignalCompliance‚Ñ¢',
      'BuildCast‚Ñ¢',
      'NodeClause‚Ñ¢',
      'PermitDrop‚Ñ¢',
      'AuditMatrix‚Ñ¢',
      'StructPlan‚Ñ¢',
      'ClaimBoard‚Ñ¢',
      'FormDrop‚Ñ¢',
    ],
    subnodes: [],
  },
  saas: {
    name: 'üîë SaaS & Licensing',
    brands: [
      'SaaSChain‚Ñ¢',
      'LicenseGrid‚Ñ¢',
      'TokenSaaS‚Ñ¢',
      'VaultKey‚Ñ¢',
      'OmniLicense‚Ñ¢',
      'ScrollSync‚Ñ¢',
      'PulseSaaS‚Ñ¢',
      'ClaimSuite‚Ñ¢',
      'YieldKey‚Ñ¢',
      'SaaSBoard‚Ñ¢',
      'KeyLoop‚Ñ¢',
      'VaultPanel‚Ñ¢',
      'LicenseMap‚Ñ¢',
      'TokenSync‚Ñ¢',
      'OmniClaim‚Ñ¢',
      'SuiteTrack‚Ñ¢',
      'LicenseBeam‚Ñ¢',
      'VaultSync‚Ñ¢',
      'ClaimEcho‚Ñ¢',
      'PanelGrid‚Ñ¢',
    ],
    subnodes: [],
  },
  nft: {
    name: 'üîÅ NFT & Ownership',
    brands: [
      'ClaimGrid‚Ñ¢',
      'TokenSync‚Ñ¢',
      'VaultMint‚Ñ¢',
      'NFTLoop‚Ñ¢',
      'ScrollProof‚Ñ¢',
      'IPTrace‚Ñ¢',
      'MintEcho‚Ñ¢',
      'VaultSeal‚Ñ¢',
      'ChainLock‚Ñ¢',
      'PulseDrop‚Ñ¢',
      'AssetNest‚Ñ¢',
      'MintTrack‚Ñ¢',
      'TokenClaim‚Ñ¢',
      'ProofMap‚Ñ¢',
      'ScrollVault‚Ñ¢',
      'ClaimPanel‚Ñ¢',
      'YieldChain‚Ñ¢',
      'LedgerDrop‚Ñ¢',
      'NFTBoard‚Ñ¢',
      'ScrollNest‚Ñ¢',
    ],
    subnodes: [],
  },
  quantum: {
    name: '‚ú¥Ô∏è Quantum Protocols',
    brands: [
      'QuantumMesh‚Ñ¢',
      'PulseQ‚Ñ¢',
      'EntanglePath‚Ñ¢',
      'QubitNest‚Ñ¢',
      'LogicSpin‚Ñ¢',
      'VaultQuantum‚Ñ¢',
      'WaveSignal‚Ñ¢',
      'PhaseClaim‚Ñ¢',
      'GridState‚Ñ¢',
      'QuantumDrop‚Ñ¢',
      'SyncQ‚Ñ¢',
      'PulseField‚Ñ¢',
      'QLogic‚Ñ¢',
      'EntangleProof‚Ñ¢',
      'SuperposVault‚Ñ¢',
      'ClaimLoopQ‚Ñ¢',
      'QuantumTrace‚Ñ¢',
      'QubitEcho‚Ñ¢',
      'ZeroNode‚Ñ¢',
      'PhaseGrid‚Ñ¢',
    ],
    subnodes: [],
  },
  ritual: {
    name: '‚òØ Ritual & Culture',
    brands: [
      'RiteNest‚Ñ¢',
      'PulseSpirit‚Ñ¢',
      'ClanScroll‚Ñ¢',
      'CultureGrid‚Ñ¢',
      'MythLoop‚Ñ¢',
      'AuraDrop‚Ñ¢',
      'CeremPath‚Ñ¢',
      'EchoGlyph‚Ñ¢',
      'TradVault‚Ñ¢',
      'LineageClaim‚Ñ¢',
      'SymbolMap‚Ñ¢',
      'AncestorSync‚Ñ¢',
      'SoulPanel‚Ñ¢',
      'ClanRoot‚Ñ¢',
      'EchoRitual‚Ñ¢',
      'TotemCast‚Ñ¢',
      'RiteClaim‚Ñ¢',
      'GlyphVault‚Ñ¢',
      'CultureNest‚Ñ¢',
      'SpiritBeam‚Ñ¢',
    ],
    subnodes: [],
  },
  nutrition: {
    name: '‚úø Nutrition & Food Chain',
    brands: [
      'AgriNest‚Ñ¢',
      'FreshSync‚Ñ¢',
      'CropLoop‚Ñ¢',
      'SoilGrid‚Ñ¢',
      'FarmDrop‚Ñ¢',
      'GrainVault‚Ñ¢',
      'HarvestClaim‚Ñ¢',
      'PulseCrop‚Ñ¢',
      'YieldField‚Ñ¢',
      'RootMap‚Ñ¢',
      'FoodProof‚Ñ¢',
      'AquaNest‚Ñ¢',
      'SeedCycle‚Ñ¢',
      'PlantTrack‚Ñ¢',
      'CropVault‚Ñ¢',
      'SoilEcho‚Ñ¢',
      'NutritionClaim‚Ñ¢',
      'LoopFarm‚Ñ¢',
      'PulseGrain‚Ñ¢',
      'FieldNest‚Ñ¢',
    ],
    subnodes: [],
  },
  zerowaste: {
    name: '‚ôªÔ∏è Zero Waste',
    brands: [
      'EcoNest‚Ñ¢',
      'GreenLoop‚Ñ¢',
      'CycleSync‚Ñ¢',
      'ZeroCrate‚Ñ¢',
      'WasteGrid‚Ñ¢',
      'BioDrop‚Ñ¢',
      'SustainClaim‚Ñ¢',
      'LoopSort‚Ñ¢',
      'PulseGreen‚Ñ¢',
      'YieldTrash‚Ñ¢',
      'RecycleMap‚Ñ¢',
      'CleanTrack‚Ñ¢',
      'EcoVault‚Ñ¢',
      'ClaimClean‚Ñ¢',
      'CompostGrid‚Ñ¢',
      'GreenBeam‚Ñ¢',
      'LoopNest‚Ñ¢',
      'TrashEcho‚Ñ¢',
      'SortClaim‚Ñ¢',
      'VaultCycle‚Ñ¢',
    ],
    subnodes: [],
  },
  mining: {
    name: '‚õèÔ∏è Mining & Resources',
    brands: [
      'MineNest‚Ñ¢',
      'DrillCoreX‚Ñ¢',
      'OreSync‚Ñ¢',
      'VaultRock‚Ñ¢',
      'ClaimMine‚Ñ¢',
      'TrackShaft‚Ñ¢',
      'PulseMine‚Ñ¢',
      'CoreBeam‚Ñ¢',
      'DigEcho‚Ñ¢',
      'RockPath‚Ñ¢',
      'YieldDrill‚Ñ¢',
      'MineProof‚Ñ¢',
      'OreLine‚Ñ¢',
      'DrillLink‚Ñ¢',
      'VaultTunnel‚Ñ¢',
      'GeoGrid‚Ñ¢',
      'SeamSync‚Ñ¢',
      'ClaimOre‚Ñ¢',
      'PulseBlast‚Ñ¢',
      'OreEcho‚Ñ¢',
      'DeepCrate‚Ñ¢',
      'RockLogic‚Ñ¢',
      'CoreDrill‚Ñ¢',
      'MineCast‚Ñ¢',
      'DrillMark‚Ñ¢',
      'SignalOre‚Ñ¢',
      'YieldTrack‚Ñ¢',
      'VaultSeam‚Ñ¢',
      'ShaftDrop‚Ñ¢',
      'GeoNode‚Ñ¢',
    ],
    subnodes: [],
  },
};

export async function seedComprehensiveBrands() {
  console.log('üåê Seeding comprehensive brand ecosystem from authentic HTML data...');

  try {
    // Get all sectors from database
    const allSectors = await db.select().from(sectors);

    let totalBrandsSeeded = 0;
    let totalSubnodesSeeded = 0;

    for (const [sectorKey, sectorData] of Object.entries(sectorBrandsData)) {
      // Find matching sector by name
      const sector = allSectors.find(
        (s) =>
          s.name?.includes(sectorData.name.split(' ')[1]) ||
          s.emoji === sectorData.name.split(' ')[0]
      );

      if (!sector) {
        console.log(`‚ùå Sector not found: ${sectorData.name}`);
        continue;
      }

      console.log(`üîÑ Seeding ${sectorData.name} (${sectorData.brands.length} brands)...`);

      // Check if brands already exist for this sector
      const existingBrands = await db.select().from(brands).where(eq(brands.sectorId, sector.id));
      if (existingBrands.length > 0) {
        console.log(`‚ö†Ô∏è  Brands already exist for ${sectorData.name}, skipping...`);
        continue;
      }

      // Seed parent brands
      for (let i = 0; i < sectorData.brands.length; i++) {
        const brandName = sectorData.brands[i];

        const brandData: InsertBrand = {
          name: brandName,
          description: `${brandName} - Advanced ${sectorData.name.split(' ')[1]} solution providing enterprise-grade infrastructure and analytics`,
          sectorId: sector.id,
          status: i < 20 ? 'active' : 'development', // First 20 are active
          integration: i < 10 ? 'VaultMesh‚Ñ¢' : i < 30 ? 'GridCore‚Ñ¢' : 'Standard',
          metadata: {
            tier: i < 5 ? 'A+' : i < 15 ? 'A' : i < 35 ? 'B+' : 'B',
            category: 'Core',
            source: 'HTML_DATA',
            pricing: sector.price || '79.99',
            features: [
              `${brandName} Analytics`,
              `${brandName} Integration`,
              `${brandName} Security`,
            ],
            version: '2.0',
            deploymentDate: new Date().toISOString(),
            performance: Math.floor(Math.random() * 20) + 80, // 80-99%
          },
        };

        const [parentBrand] = await db.insert(brands).values(brandData).returning();
        totalBrandsSeeded++;

        // Add subnodes for each parent brand (4 subnodes per parent)
        for (let j = 0; j < 4; j++) {
          const subnodeData: InsertBrand = {
            name: `${brandName} ${j === 0 ? 'Core' : j === 1 ? 'Engine' : j === 2 ? 'Gateway' : 'Protocol'}`,
            description: `${brandName} specialized ${j === 0 ? 'core processing' : j === 1 ? 'engine module' : j === 2 ? 'gateway interface' : 'protocol handler'} component`,
            sectorId: sector.id,
            parentId: parentBrand.id,
            status: 'active',
            integration: 'SubNode‚Ñ¢',
            metadata: {
              tier: 'Subnode',
              category: 'Component',
              source: 'HTML_SUBNODE',
              parentName: brandName,
              component: j === 0 ? 'Core' : j === 1 ? 'Engine' : j === 2 ? 'Gateway' : 'Protocol',
              performance: Math.floor(Math.random() * 15) + 85, // 85-99%
            },
          };

          await db.insert(brands).values(subnodeData);
          totalSubnodesSeeded++;
        }
      }

      console.log(`‚úÖ Seeded ${sectorData.brands.length} brands for ${sectorData.name}`);
    }

    console.log(`üéâ Comprehensive brand seeding completed!`);
    console.log(`üìä Total parent brands seeded: ${totalBrandsSeeded}`);
    console.log(`üìä Total subnodes seeded: ${totalSubnodesSeeded}`);
    console.log(`üìä Total brands in ecosystem: ${totalBrandsSeeded + totalSubnodesSeeded}`);
  } catch (error) {
    console.error('‚ùå Error seeding comprehensive brands:', error);
    throw error;
  }
}

// Export the seeder function
export { sectorBrandsData };
